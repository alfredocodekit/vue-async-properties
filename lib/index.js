!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("lodash")):"function"==typeof define&&define.amd?define("VueAsyncProperties",["lodash"],t):"object"==typeof exports?exports.VueAsyncProperties=t(require("lodash")):e.VueAsyncProperties=t(e._)}(this,function(e){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function o(e,t){return function(n){return t(n,e)}}function r(e,t,n,o,r,u){var i=t.metaPending,c=t.metaLoading,l=t.metaError,s=this,f=function(t){(0,a.isNil)(t)?s[e]=o:s[e]=t},d=void 0;if(i){var p=i(e);d=function(e){s[p]=e}}else d=function(e){};var m=c(e),h=function(e){s[m]=e},v=l(e),b=function(e){s[v]=e};return function(){var t=n.call(s);(0,a.isNil)(t)||"function"!=typeof t.then?(b(null),f(t)):(h(!0),d(!1),b(null),t.then(function(e){f(r(e))}).catch(function(t){s[e]=null,b(t),u(t),f(null)}).then(function(){h(!1)}))}}function u(e){var t=e.metaPending,n=e.metaLoading,o=e.metaError,r=e.metaDefault,u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=void 0;i=u?this.$options.asyncData:this.$options.asyncComputed;var c={};return(0,a.each)(i,function(e,a){var i=e.default||null;c[a]=i,u||(c[t(a)]=!1),c[n(a)]=!1,c[o(a)]=null,c[r(a)]=e.default||null}),c}Object.defineProperty(t,"__esModule",{value:!0}),t.metaFunctionBuilder=o,t.resolverForGivenFunction=r,t.dataObjBuilder=u;var a=n(0)},function(e,t,n){"use strict";function o(e){return e=(0,a.cloneDeep)(e),(0,a.defaultsDeep)(e,i)}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=(0,a.cloneDeep)(e),"function"==typeof e&&(e={get:e}),null===e.transform&&(e.transform=function(e){return e}),(0,a.defaultsDeep)(e,t,c,l)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=(0,a.cloneDeep)(e),"number"==typeof e.debounce?e.debounce={wait:e.debounce,options:{}}:(0,a.isNil)(e.debounce)?e.debounce={}:e.debounce={wait:e.debounce.wait,options:(0,a.pick)(e.debounce,"leading","trailing","maxWait")},null===e.transform&&(e.transform=function(e){return e}),(0,a.defaultsDeep)(e,t,c,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.globalDefaults=o,t.dataDefaults=r,t.computedDefaults=u;var a=n(0),i={meta:function(e,t){return e+"$"+t}},c={transform:function(e){return e.data},error:function(e){console.error(e)}},l={lazy:!1,debounce:!1},s={eager:!1,debounce:{wait:1e3,options:{}}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),u=o(r),a=n(5),i=o(a),c={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,u.default)(t),o=(0,i.default)(t);e.mixin(n),e.mixin(o)}};t.default=c,e.exports=t.default},function(e,t,n){"use strict";function o(e){var t=(0,a.globalDefaults)(e),n=t.meta,o=(0,u.metaFunctionBuilder)("refresh",n),i=(0,u.metaFunctionBuilder)("loading",n),c=(0,u.metaFunctionBuilder)("error",n),l=(0,u.metaFunctionBuilder)("default",n),s={metaRefresh:o,metaLoading:i,metaError:c,metaDefault:l},f=(0,a.dataDefaults)(e);return{beforeCreate:function(){var e=this,t=this.$options.asyncData;this.$options.methods=this.$options.methods||{};var n=this.$options.methods;(0,r.each)(t,function(t,r){var i=(0,a.dataDefaults)(t,f);n[o(r)]=u.resolverForGivenFunction.call(e,r,s,i.get,i.default,i.transform,i.error)})},created:function(){var e=this,t=this.$options.asyncData;(0,r.each)(t,function(t,n){(0,a.dataDefaults)(t,f).lazy||e[o(n)]()})},data:function(){return u.dataObjBuilder.call(this,s)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(0),u=n(1),a=n(2);e.exports=t.default},function(e,t,n){"use strict";function o(e){var t=(0,a.globalDefaults)(e),n=t.meta,o=(0,u.metaFunctionBuilder)("cancel",n),i=(0,u.metaFunctionBuilder)("now",n),c=(0,u.metaFunctionBuilder)("pending",n),l=(0,u.metaFunctionBuilder)("loading",n),s=(0,u.metaFunctionBuilder)("error",n),f=(0,u.metaFunctionBuilder)("default",n),d=(0,u.metaFunctionBuilder)("debounce",n),p={metaCancel:o,metaNow:i,metaPending:c,metaLoading:l,metaError:s,metaDefault:f,metaDebounce:d},m=(0,a.computedDefaults)(e);return{beforeCreate:function(){var e=this,t=this.$options.asyncComputed;this.$options.methods=this.$options.methods||{};var n=this.$options.methods;(0,r.each)(t,function(t,l){var s=(0,a.computedDefaults)(t,m);console.log(s.debounce);var f=(0,r.debounce)(u.resolverForGivenFunction.call(e,l,p,s.get,s.default,s.transform,s.error),s.debounce.wait,s.debounce.options);e[d(l)]=f;var h=c(l);n[o(l)]=function(){this[h]=!1,f.cancel()},n[i(l)]=function(){f.flush()}})},created:function(){var e=this,t=this.$options.asyncComputed;(0,r.each)(t,function(t,n){var o=(0,a.computedDefaults)(t,m),r=e[d(n)],u=!1,i=o.eager;e.$watch(o.watch,function(){i&&!u?(u=!0,r(),r.flush()):(this[c(n)]=!0,r())},{deep:!0,immediate:i})})},data:function(){return u.dataObjBuilder.call(this,p,!1)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(0),u=n(1),a=n(2);e.exports=t.default}])});
//# sourceMappingURL=index.js.map